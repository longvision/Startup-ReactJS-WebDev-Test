{"ast":null,"code":"var _jsxFileName = \"/Volumes/Samsung_T5/repositorios/temp/Startup-ReactJS-WebDev-Test/github-guru/src/components/Commits/index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport moment from 'moment-timezone';\nimport { Container, List, Ul, Card, Logo, CommitList, SearchInput, SearchBox, Title, Button, Repository } from './styles';\nimport logo from '../../assets/logo.png';\nimport avatar from '../../assets/avatar.png';\nimport * as CommitsActions from '../../store/actions/commits';\n\nclass Commits extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      items: [],\n      search: ''\n    };\n\n    this.filterList = event => {\n      const commits = this.props.commits;\n      let updatedList = this.state.items;\n      updatedList = commits.data.filter(c => c.commit.message.toLowerCase().search(event.target.value.toLowerCase()) !== -1);\n      this.setState({\n        items: updatedList,\n        search: event.target.value\n      });\n    };\n\n    this.componentDidMount = () => {\n      const commits = this.props.commits;\n      this.setState({\n        items: commits.data\n      });\n    };\n  }\n\n  componentWillMount() {\n    const commits = this.props.commits;\n    const list = commits.data.filter(c => c.commit.message === '');\n    this.setState({\n      items: list\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          items = _this$state.items,\n          search = _this$state.search;\n    console.log(items);\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Logo, {\n      src: logo,\n      alt: \"Github Guru\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(CommitList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(SearchInput, {\n      type: \"text\",\n      className: \"form-control form-control-lg\",\n      placeholder: \"Filter by commit message...\",\n      onChange: this.filterList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Filter\")), search === '' ? React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Last 20 commits:\") : React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"All commits with '\", search, \"' will appear below:\"), items.slice(0, 20).map(item => React.createElement(Card, {\n      key: item.sha,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Repository, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, item.author === null ? React.createElement(\"img\", {\n      src: avatar,\n      alt: \"avatar\",\n      alt: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }) : React.createElement(\"img\", {\n      src: item.author.avatar_url,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, item.commit.author.name)), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Commit message:\", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, item.commit.message)), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Last Commit:\", React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, moment(item.commit.author.date).fromNow()))))));\n  }\n\n} // const mapDispatchToProps = dispatch => bindActionCreators(CommitsActions, dispatch);\n\n\nconst mapStateToProps = state => ({\n  repo: state.repo,\n  commits: state.commits\n});\n\nexport default connect(mapStateToProps // mapDispatchToProps,\n)(Commits);","map":{"version":3,"sources":["/Volumes/Samsung_T5/repositorios/temp/Startup-ReactJS-WebDev-Test/github-guru/src/components/Commits/index.js"],"names":["React","Component","Link","connect","bindActionCreators","moment","Container","List","Ul","Card","Logo","CommitList","SearchInput","SearchBox","Title","Button","Repository","logo","avatar","CommitsActions","Commits","state","items","search","filterList","event","commits","props","updatedList","data","filter","c","commit","message","toLowerCase","target","value","setState","componentDidMount","componentWillMount","list","render","console","log","slice","map","item","sha","author","avatar_url","name","date","fromNow","mapStateToProps","repo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport moment from 'moment-timezone';\nimport {\n  Container,\n  List,\n  Ul,\n  Card,\n  Logo,\n  CommitList,\n  SearchInput,\n  SearchBox,\n  Title,\n  Button,\n  Repository,\n} from './styles';\nimport logo from '../../assets/logo.png';\nimport avatar from '../../assets/avatar.png';\nimport * as CommitsActions from '../../store/actions/commits';\n\nclass Commits extends Component {\n  state = {\n    items: [],\n    search: '',\n  };\n\n  filterList = (event) => {\n    const { commits } = this.props;\n    let updatedList = this.state.items;\n    updatedList = commits.data.filter(\n      c => c.commit.message.toLowerCase().search(event.target.value.toLowerCase()) !== -1,\n    );\n    this.setState({ items: updatedList, search: event.target.value });\n  };\n\n  componentDidMount = () => {\n    const { commits } = this.props;\n    this.setState({ items: commits.data });\n  };\n\n  componentWillMount() {\n    const { commits } = this.props;\n    const list = commits.data.filter(c => c.commit.message === '');\n    this.setState({ items: list });\n  }\n\n  render() {\n    const { items, search } = this.state;\n    console.log(items);\n    return (\n      <Container>\n        <Logo src={logo} alt=\"Github Guru\" />\n        <CommitList>\n          <SearchInput\n            type=\"text\"\n            className=\"form-control form-control-lg\"\n            placeholder=\"Filter by commit message...\"\n            onChange={this.filterList}\n          />\n          <button type=\"submit\">Filter</button>\n        </CommitList>\n        {search === '' ? (\n          <Title>Last 20 commits:</Title>\n        ) : (\n          <Title>All commits with '{search}' will appear below:</Title>\n        )}\n        {items.slice(0, 20).map(item => (\n          <Card key={item.sha}>\n            <Repository>\n              <div>\n                {item.author === null ? (\n                  <img src={avatar} alt=\"avatar\" alt=\"avatar\" />\n                ) : (\n                  <img src={item.author.avatar_url} />\n                )}\n                <h2>{item.commit.author.name}</h2>\n              </div>\n              <h2>\n                Commit message:\n                <strong>{item.commit.message}</strong>\n              </h2>\n\n              <h2>\n                Last Commit:\n                <small>{moment(item.commit.author.date).fromNow()}</small>\n              </h2>\n            </Repository>\n          </Card>\n        ))}\n      </Container>\n    );\n  }\n}\n\n// const mapDispatchToProps = dispatch => bindActionCreators(CommitsActions, dispatch);\n\nconst mapStateToProps = state => ({\n  repo: state.repo,\n  commits: state.commits,\n});\n\nexport default connect(\n  mapStateToProps,\n  // mapDispatchToProps,\n)(Commits);\n"]},"metadata":{},"sourceType":"module"}